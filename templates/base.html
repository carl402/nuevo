<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Monte Carlo - Sistema</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/style.css" rel="stylesheet">
  </head>
  <body>
    <div class="d-flex" id="wrapper">
      <div class="border-end bg-white" id="sidebar-wrapper">
        <div class="sidebar-heading border-bottom bg-light">âˆ‘onte Carlo</div>
        <div class="list-group list-group-flush">
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="{{ url_for('dashboard') }}">Dashboard</a>
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="{{ url_for('reports_list') }}">Reportes</a>
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="{{ url_for('projects_list') }}">Proyectos</a>
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="{{ url_for('users_list') }}">Usuarios</a>
          <a class="list-group-item list-group-item-action list-group-item-light p-3" href="#">ConfiguraciÃ³n</a>
        </div>
      </div>
      <div id="page-content-wrapper">
        <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
          <div class="container-fluid">
            <button class="btn btn-primary" id="sidebarToggle">â˜°</button>
            <div class="ms-auto">
              {% if current_user.is_authenticated %}
                Bienvenido, {{ current_user.first_name }} | <a href="{{ url_for('logout') }}">ðŸšª Cerrar SesiÃ³n</a>
              {% else %}
                <a href="{{ url_for('login') }}">Iniciar sesiÃ³n</a>
              {% endif %}
            </div>
          </div>
        </nav>

        <div class="container-fluid mt-4">
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, msg in messages %}
                <div class="alert alert-{{ category }}">{{ msg }}</div>
              {% endfor %}
            {% endif %}
          {% endwith %}

          {% block content %}{% endblock %}
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.getElementById('sidebarToggle')?.addEventListener('click', function () {
        document.getElementById('wrapper').classList.toggle('toggled');
      });
    </script>
  </body>
</html>
